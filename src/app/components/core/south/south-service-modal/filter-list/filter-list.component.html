<div *ngIf="filterPipeline != undefined" class="view-content columns is-size-10">
  <div class="column">
    <div class="filter-list" cdkDropList (cdkDropListDropped)="onDrop($event)">
      <div class="accordion card" *ngFor="let filter of filterPipeline; let i = index" [attr.id]="i" cdkDrag
        [cdkDragDisabled]="filterPipeline.length == 1 || !rolesService.hasEditPermissions()">
        <header class="card-header" cdkDragHandle
          [ngClass]="{'cursor-default': filterPipeline.length < 2,'cursor-move': filterPipeline.length >= 2 && rolesService.hasEditPermissions() }">
          <p class="card-header-title">
            <ng-container *ngIf="filterPipeline.length > 1 && rolesService.hasEditPermissions()">
              <i class="fa fa-xs fa-bars"></i>&nbsp;
            </ng-container>
            {{filter}}
          </p>
          <a (click)="activeAccordion(i, filter)" class="card-header-icon">
            <span class="icon">
              <i class="fa fa-xs fa-angle-down" aria-hidden="true"></i>
            </span>
          </a>
        </header>
        <div class="card-content" hidden>
          <ng-container *ngIf="filterConfiguration.has(service.name + '_' + filter)">
            <div class="field">
              <app-configuration-group #filterConfigComponent
                [category]="filterConfiguration.get(service.name + '_' + filter)" [from]="'filter-modal'"
                (changedConfigEvent)="getChangedFilterConfig($event, service.name + '_' + filter)"
                (formStatusEvent)="validFilterConfigForm = $event">
              </app-configuration-group>
            </div>
            <div class="field">
              <div class="field has-text-left">
                <span
                  class="icon is-small has-tooltip-right has-tooltip-arrow tooltip is-pulled-left is-hovered help-icon"
                  data-tooltip="Help" (click)="goToLink({name: selectedFilterPlugin, type: 'Filter'})">
                  <i class="far fa-question-circle"></i>
                </span>
              </div>
              <div class="field is-pulled-right" *ngIf="rolesService.hasEditPermissions()">
                <span class="icon is-small has-tooltip-left has-tooltip-arrow tooltip is-hovered" data-tooltip="Remove"
                  (click)="deleteFilterReference(filter)">
                  <i class="fa fa-trash-alt" aria-hidden="true"></i>
                </span>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>